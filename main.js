(()=>{"use strict";function e(){const e=document.querySelector(".form-container"),t=document.querySelector("form");return{formContainer:e,searchBar:document.querySelector("#search"),form:t,cardContainer:document.querySelector(".card-container")}}function t(e){return(1.8*(e-273)+32).toFixed(0)}function n(e){return(e-273.15).toFixed(0)}const a=e();const c=e();c.form.addEventListener("submit",(e=>{e.preventDefault(),async function(e){try{e.replace(/ /g,"+");const c=await fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=821fdddbf8ab41bdd4a6bb1a2055b185"),{mode:"cors"}),o=await c.json();if("404"===o.cod)throw new Error;a.cardContainer.textContent="",console.log(o),a.cardContainer.appendChild(function(e){let a=document.createElement("div"),c={tempType:document.createElement("button"),city:document.createElement("h3"),tempContainer:document.createElement("div"),weatherContainer:document.createElement("div")},o={temp:document.createElement("h3"),divider:document.createElement("div"),tempFlsLke:document.createElement("h3"),humidity:document.createElement("h4")},r={weather:document.createElement("h3"),icon:document.createElement("img")};a.classList.add("card"),c.tempContainer.classList.add("temp-container"),c.weatherContainer.classList.add("weather-container"),c.city.classList.add("city"),o.temp.classList.add("temperature"),o.divider.classList.add("divider"),o.tempFlsLke.classList.add("feels-like"),o.humidity.classList.add("humidity"),r.weather.classList.add("weather"),r.icon.classList.add("pic"),c.tempType.textContent="F°",c.city.textContent="".concat(e.name),o.temp.textContent=t(e.main.temp)+"°",o.tempFlsLke.textContent=t(e.main.feels_like)+"°",o.humidity.textContent="Humidity: ".concat(e.main.humidity,"%"),r.weather.textContent="".concat(e.weather[0].main),r.icon.src="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png");for(const e in o)c.tempContainer.appendChild(o[e]);for(const e in r)c.weatherContainer.appendChild(r[e]);for(const e in c)a.appendChild(c[e]);console.log(a);let i=!0;return c.tempType.addEventListener("click",(()=>{i?(o.temp.textContent=n(e.main.temp)+"°",o.tempFlsLke.textContent=n(e.main.feels_like)+"°",c.tempType.textContent="C°",i=!1):(o.temp.textContent=t(e.main.temp)+"°",o.tempFlsLke.textContent=t(e.main.feels_like)+"°",c.tempType.textContent="F°",i=!0)})),a}(o))}catch(e){a.cardContainer.textContent="Woops! We couldn't find that city! Please try again!",console.error(e)}}(c.searchBar.value),c.searchBar.value="",c.searchBar.blur()}))})();